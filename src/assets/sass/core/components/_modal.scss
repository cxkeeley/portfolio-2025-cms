//
// Modal
//

.modal {
  --#{$prefix}modal-color: var(--kt-modal-content-color);
  --#{$prefix}modal-bg: var(--kt-modal-content-bg);
  --#{$prefix}modal-border-color: var(--kt-modal-content-border-color);
  --#{$prefix}modal-box-shadow: var(--kt-modal-content-box-shadow-xs);
  --#{$prefix}modal-header-border-color: var(--kt-modal-header-border-color);
  --#{$prefix}modal-footer-bg: var(--kt-modal-footer-bg);
  --#{$prefix}modal-footer-border-color: var(--kt-modal-footer-border-color);
}

// Hide scroll on body when modal open
body.modal-open {
  overflow-y: hidden !important;
  overflow-x: hidden !important;
}

// Mobile dialog
.modal-dialog {
  outline: none !important;
}

// Modal header
.modal-header {
  align-items: center;
  justify-content: space-between;
  @include border-top-radius($modal-content-border-radius);
  border-bottom: $modal-header-border-width solid var(--kt-modal-header-border-color);

  // Close
  .btn-close {
    padding: calc(var(--bs-modal-header-padding-y) * 0.25) calc(var(--bs-modal-header-padding-x) * 0.25);
  }

  // Headings
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-bottom: 0;
  }
}

// Modal content
.modal-content {
  color: var(--kt-modal-color);
  background-color: var(--kt-modal-bg);
  border: $modal-content-border-width solid var(--kt-modal-border-color);
  @include box-shadow(var(--kt-modal-box-shadow));
}

// Modal footer
.modal-footer {
  background-color: var(--kt-modal-footer-bg);
  border-top: $modal-footer-border-width solid var(--#{$prefix}modal-footer-border-color);
}

// Modal background
.modal-backdrop {
  --#{$prefix}backdrop-bg: var(--kt-modal-backdrop-bg);
  --#{$prefix}backdrop-opacity: var(--kt-modal-backdrop-opacity);
}

// Scale up the modal
@include media-breakpoint-up(sm) {
  .modal-content {
    @include box-shadow(var(--kt-modal-box-shadow-sm-up));
  }
}

// Utilities
.modal-rounded {
  @if $enable-rounded {
    border-radius: $modal-content-border-radius !important;
  }
}

.modal-animation-1 {
  transition: all 0.5s;
  transform: translateY(-50px);
  opacity: 0;
  pointer-events: none;

  &.modal-show {
    transform: translateY(0px);
    opacity: 1;
    pointer-events: all;
  }
}

.modal-dialog-centered {
  justify-content: center;
}

@for $i from 1 through 20 {
  $zIndexBackdrop: #{1100 + (5 * $i)};
  $zIndexContent: #{1100 + (5 * $i) + 2};

  div.modal-backdrop.show:nth-of-type(#{$i}),
  div.offcanvas-backdrop.show:nth-of-type(#{$i}) {
    z-index: $zIndexBackdrop;
  }

  div.modal[role='dialog'][aria-modal='true']:nth-of-type(#{$i}),
  div.offcanvas[role='dialog'][aria-modal='true']:nth-of-type(#{$i}) {
    z-index: $zIndexContent;
  }
}
